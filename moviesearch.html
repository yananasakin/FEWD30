<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<form>
  <input type="text" placeholder="Search">
  <button>Search</button>
</form>

<ul>

</ul>

<script>
var list = $("ul");
var form = $("form");
var input = $("input");

// function get(url, success) {
//   var xhr = new XMLHttpRequest();
//
//   xhr.addEventListener("readystatechange", function() {
//     if (xhr.readyState == 4 && xhr.status == 200) {
//       success(JSON.parse(xhr.response));
//     }
//   });
//
//   xhr.open("GET", url);
//   xhr.send();
// }

function listMovies(results) {
  var movies = results["Search"];

  // list.innerHTML = ""; // Clears the list

  for (var i = 0; i < movies.length; i++) {
    var movie = movies[i];
    var li = $("<li>");

    var anchor = $("<a>");
    anchor.attr("href", "http://www.imdb.com/title/" + movie["imdbID"]);
    anchor.text(movie["Title"]);

    li.append(anchor);
    list.append(li);
  }
}

function formSubmitted(event) {
  event.preventDefault();
  $.get("http://omdbapi.com/?s=" + input.value, listMovies);
}

$("form").on("submit", formSubmitted);

</script>
